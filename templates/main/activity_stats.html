{% extends 'main/base.html' %}
{% load static %}


{% block navbar %}
    <h1>Статистика активности</h1>
{% endblock %}

{% block content %}

    <div class="activity-stat-block">
        <table class="my_table act-table">
            <thead>
                <tr class="table-title"><th colspan="3">По входам</th></tr>
                <tr>
                    <th>Роль</th>
                    <th>Имя пользователя</th>
                    <th>Количественный показатель</th>
                </tr>
            </thead>
            <tbody>
                {% for user in logins %}
                    <tr>
                        <td>{{ user.user.role }}</td>
                        <td>{{ user.user.username }}</td>
                        <td>{{ user.count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <table class="my_table act-table">
            <thead>
                <tr class="table-title"><th colspan="3">Использование чата</th></tr>
                <tr>
                    <th>Роль</th>
                    <th>Имя пользователя</th>
                    <th>Количественный показатель</th>
                </tr>
            </thead>
            <tbody>
                {% for msg in messages %}
                    <tr>
                        <td>{{ msg.user.role }}</td>
                        <td>{{ msg.user.username }}</td>
                        <td>{{ msg.count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <table class="my_table act-table">
            <thead>
                <tr class="table-title"><th colspan="3">Оформление заказов</th></tr>
                <tr>
                    <th>Роль</th>
                    <th>Имя пользователя</th>
                    <th>Количественный показатель</th>
                </tr>
            </thead>
            <tbody>
                {% for ord in orders %}
                    <tr>
                        <td>{{ ord.user.role }}</td>
                        <td>{{ ord.user.username }}</td>
                        <td>{{ ord.count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock %}
